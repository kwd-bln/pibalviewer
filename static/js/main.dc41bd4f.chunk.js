(this.webpackJsonppibalviewer=this.webpackJsonppibalviewer||[]).push([[0],{75:function(e,t,a){e.exports=a(97)},86:function(e,t,a){e.exports=a.p+"static/media/fusen_fly_man.9c7e6cbd.png"},88:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){var n={"./hsl_from.png":92,"./hsl_to.png":93};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=91},92:function(e,t,a){e.exports=a.p+"static/media/hsl_from.3c413c9b.png"},93:function(e,t,a){e.exports=a.p+"static/media/hsl_to.55d8198e.png"},97:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),l=a(16),s=a(25),i=a(38),u=a(56),m=Object(u.actionCreatorFactory)(),d=m("REQUEST_LOGIN"),f=m("REQUEST_LOGOUT"),h=(m("INPUT_USER"),m("INPUT_PASS"),m("START_CREATE_TOKEN")),p=(m("FINISH_CREATE_TOKEN"),m("START_FETCH_DATES")),E=m("FINISH_FETCH_DATES"),v=m("SET_DATES"),g=m("START_FETCH_PIBALDATA"),b=m("ACTION_ENLARGE"),T=m("ACTION_SHRINK"),k=m("TOGGLE_VISIBLE"),x=m("SELECT_FLIGHT"),I=(m("GET_DATA_ERROR"),m("LOAD_DATA_ERROR"),m("FETCHED_DATA"),m("SET_WIND")),O=m("TOGGLE_ISTO"),w=m("TOGGLE_GLAPHISTO"),y=m("TOGGLE_ISKT"),N=m("SELECT_TIME"),S=Object(s.f)(Object(l.c)((function(e){return{token:e.state.token}}),(function(e){return{setLocalStorageToken:function(t){e(d(t))}}}))((function(e){var t=localStorage.auth_token;return t&&!e.token&&e.setLocalStorageToken(t),e.token.length||t?r.a.createElement(s.b,{children:e.children}):r.a.createElement(s.a,{to:"/login"})}))),j=a(68),C=a(104),L=a(99),_=a(58),M=a(100),A=a(101),P=Object(l.c)((function(e){return{}}),(function(e){return{handleOnClickSubmitButton:function(t,a){e(h({username:t,password:a}))}}}))((function(e){var t=Object(j.a)(),n=t.register,c=t.handleSubmit,o=t.errors,l=t.reset;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:a(86),className:"login-image",alt:"pibal-man"}),r.a.createElement(C.a,{noValidate:!0,onSubmit:c((function(t){e.handleOnClickSubmitButton(t.username,t.password),l()}))},r.a.createElement(C.a.Group,{as:L.a,controlId:"username",className:"login-form"},r.a.createElement(C.a.Label,{column:!0,sm:3,xs:12},"\u30e6\u30fc\u30b6\u30fc\u540d"),r.a.createElement(_.a,{xs:{span:10,offset:1},sm:7},r.a.createElement(C.a.Control,{name:"username",placeholder:"username",type:"text",inputMode:"url",isInvalid:void 0!==o.username,ref:n({required:"\u5165\u529b\u304c\u5fc5\u8981\u3067\u3059\uff01"})}),o.username&&r.a.createElement(C.a.Control.Feedback,{type:"invalid"},o.username.message))),r.a.createElement(C.a.Group,{as:L.a,controlId:"password",className:"login-form"},r.a.createElement(C.a.Label,{column:!0,sm:3,xs:12},"\u30d1\u30b9\u30ef\u30fc\u30c9"),r.a.createElement(_.a,{xs:{span:10,offset:1},sm:7},r.a.createElement(C.a.Control,{name:"password",placeholder:"password",type:"password",isInvalid:void 0!==o.password,ref:n({required:"\u5165\u529b\u304c\u5fc5\u8981\u3067\u3059\uff01"})})),o.password&&r.a.createElement(C.a.Control.Feedback,{type:"invalid"},o.password.message)),r.a.createElement(C.a.Group,null,r.a.createElement(_.a,{sm:5},r.a.createElement(M.a,null,r.a.createElement(A.a,{variant:"primary",type:"submit",className:"login-button"},"\u30ed\u30b0\u30a4\u30f3"))))))})),D=Object(l.c)((function(e){return{token:e.state.token}}),(function(e){return{}}))((function(e){return r.a.createElement("div",null,"aaaaaaaaaaaaaaaaa")})),R=a(22),F=Object(R.a)(),K=(a(88),a(89),a(59)),G=a(60),B=a(69),H=a(72),U=a(13),z=a(67),W=function(e){var t=e.dateInfoList.map((function(e,t){return{value:t,label:"".concat(ie(e.date)," - ").concat(e.timePeriod)}}));return t.length?r.a.createElement("div",{className:"select-dates-div"},r.a.createElement(z.a,{options:t,defaultValue:t[0],className:"dates-select",onChange:function(t){var a=t.value;e.onChange(a)},theme:function(e){return Object(U.a)({},e,{borderRadius:4,colors:Object(U.a)({},e.colors,{primary70:"skyblue",primary:"skyblue"})})}})):r.a.createElement("p",null,"nodata")};var Q=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){var a=[];e.windInfoList.forEach((function(e){var t=[],n=0,r=0;e.winds.forEach((function(e){var a=e.deg*(Math.PI/180);n+=30.8667*e.spd*Math.sin(a),r+=30.8667*e.spd*Math.cos(a),t.push({x:n,y:r})})),a.push({hours:e.hours,minutes:e.minutes,visible:e.visible,points:t})}));var n=function(e){var t=function(e,t){return Math.max(e,t)};return e.map((function(e){return e.points.map((function(e){return Math.hypot(e.x,e.y)})).reduce(t)})).reduce(t,1)}(a),r=function(){var e=t.current;return e.width=480,e.height=480,e.getContext("2d")}(),c=function(e,t){var a=Math.ceil(e/3.2/t);return Math.max(Number(a.toPrecision(2)),10)}(n,e.scaleRatio),o=48/c;r.save(),r.strokeStyle="#707070",r.fillStyle="#707070",r.beginPath(),r.moveTo(240,240),r.arc(240,240,2,0,2*Math.PI),r.fill();var l=t.current.width-50,s=t.current.height-50;r.beginPath(),r.moveTo(50,240),r.lineTo(l,240),r.moveTo(240,50),r.lineTo(240,s);r.moveTo(145,50),r.lineTo(335,s),r.moveTo(335,50),r.lineTo(145,s),r.moveTo(50,145),r.lineTo(l,335),r.moveTo(50,335),r.lineTo(l,145),r.stroke(),r.beginPath(),r.moveTo(240,240),r.arc(240,240,48,0,2*Math.PI),r.arc(240,240,96,0,2*Math.PI),r.arc(240,240,144,0,2*Math.PI),r.stroke(),r.beginPath();r.moveTo(.3*l,s),r.lineTo(.3*l,s+10),r.lineTo(.3*l+48,s+10),r.lineTo(.3*l+48,s),r.stroke(),r.restore(),r.save(),r.fillStyle="black",r.font="14px Arial",r.textAlign="center",r.fillText(c.toString()+"m",.3*l+24,s+25),r.restore();var i=a.length,u=Math.min(360/i,40);a.forEach((function(t,a){if(t.visible){var n=t.points,c=Math.ceil(u*(i-a-1)),l="hsl("+c+", 100%, 50%)",s="hsl("+c+", 80%, 45%)",m=240,d=240;r.lineWidth=2,n.forEach((function(t){r.save(),r.strokeStyle=l,r.fillStyle=s,r.beginPath(),r.moveTo(m,d),m=240+(e.isTo?-t.x*o:t.x*o),d=240-(e.isTo?-t.y*o:t.y*o),r.lineTo(m,d),r.stroke(),r.moveTo(m,d),r.arc(m,d,4,0,2*Math.PI),r.fill(),r.restore()}))}}))})),r.a.createElement("div",{className:"rect-wrap"},r.a.createElement("canvas",{className:"pibal-glaph",ref:t}))},V=a(12);var J=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){var a,n=e.windInfo.winds.map((function(e){var t=e.deg*(Math.PI/180);return{x:1.852*e.spd*Math.sin(t),y:1.852*e.spd*Math.cos(t)}})),r=(a=n,Math.max.apply(Math,Object(V.a)(a.map((function(e){return Math.hypot(e.x,e.y)}))))),c=function(){var e=t.current;return e.width=480,e.height=480,e.getContext("2d")}(),o=function(e){return Math.max(Math.round(e/4.8),1)}(r),l=36/o;c.save(),c.strokeStyle="#707070",c.fillStyle="#707070",c.beginPath(),c.moveTo(240,240),c.arc(240,240,2,0,2*Math.PI),c.fill();var s=t.current.width-50,i=t.current.height-50;c.beginPath(),c.moveTo(50,240),c.lineTo(s,240),c.moveTo(240,50),c.lineTo(240,i);c.moveTo(145,50),c.lineTo(335,i),c.moveTo(335,50),c.lineTo(145,i),c.moveTo(50,145),c.lineTo(s,335),c.moveTo(50,335),c.lineTo(s,145),c.stroke(),c.beginPath(),c.moveTo(240,240),c.arc(240,240,36,0,2*Math.PI),c.arc(240,240,72,0,2*Math.PI),c.arc(240,240,108,0,2*Math.PI),c.arc(240,240,144,0,2*Math.PI),c.arc(240,240,180,0,2*Math.PI),c.stroke();c.save(),c.fillStyle="black",c.font="14px Arial",c.textAlign="center",c.fillText(o.toString(),283,240),c.fillText((2*o).toString(),319,240),c.fillText((3*o).toString(),355,240),c.fillText((4*o).toString(),391,240),c.fillText((5*o).toString(),427,240),c.fillText("(km/h)",435,252),c.restore();var u=n.length,m=Math.min(300/u);n.forEach((function(e,t){var a=Math.ceil(260-m*t)%360,n="hsl("+a+", 100%, 50%)",r="hsl("+a+", 80%, 45%)";c.save(),c.strokeStyle=n,c.fillStyle=r,c.lineWidth=2,c.beginPath(),c.moveTo(240,240);var o=240-e.x*l,s=240+e.y*l;c.lineTo(o,s),c.stroke(),c.restore()}))})),r.a.createElement("div",{className:"rect-wrap"},r.a.createElement("canvas",{className:"pibal-glaph",ref:t}))};function q(e,t){return("00"+e).slice(-2)+":"+("00"+t).slice(-2)}var Y=function(e){var t=e.windInfoList.length,a=Math.min(360/t,40);return r.a.createElement(_.a,{xs:{offset:2,span:10},sm:{offset:0,span:4}},r.a.createElement("div",{className:"button-wrap"},e.windInfoList.slice().reverse().map((function(n,c){var o={color:"white",backgroundColor:"hsla("+Math.ceil(a*c)+", 80%, 45%, 0.8)",textAlign:"center",borderRadius:"3px",margin:"0",top:"5%",position:"absolute",width:"80px"};return r.a.createElement(L.a,{key:"toggle-".concat(c)},r.a.createElement(_.a,{xs:{offset:1,span:4},sm:{offset:0,span:5}},r.a.createElement("div",{className:"form-group"},r.a.createElement("span",{className:"switch"},r.a.createElement("input",{type:"checkbox",className:"switch",id:"wind-".concat(c),checked:e.windInfoList[t-c-1].visible,onClick:function(a){e.onClickAt(t-c-1)},readOnly:!0}),r.a.createElement("label",{htmlFor:"wind-".concat(c)})))),r.a.createElement(_.a,{xs:{offset:1,span:6},sm:{offset:0,span:7}},r.a.createElement("p",{style:o},q(n.hours,n.minutes))))}))))},$=function(e){var t={backgroundColor:e.isSelected?"hsl(".concat(e.hue,", 80%, 50%)"):"hsla(".concat(e.hue,", 80%, 50%, 0.3)")};return r.a.createElement("button",{type:"button",onClick:e.onClick,className:"toggle-glaph-button",style:t},e.text)},X=function(e){var t=e.windInfoList.length,a=Math.min(360/t,40),n=e.windInfoList.map((function(n,c){var o=Math.ceil(a*(t-c-1)),l=q(n.hours,n.minutes);return r.a.createElement($,{text:l,onClick:function(){e.onClick(c)},hue:o,isSelected:c===e.selectedTimeIndex,key:"select-time-".concat(c)})}));return r.a.createElement(r.a.Fragment,null,n)},Z=function(e){for(var t=Math.min(300/e.num),a=[],n=[],c=e.windInfo.winds,o=0;o<e.num;o++){var l=Math.ceil(260-t*o)%360,s={backgroundColor:"hsl(".concat(l,",80%,50%)"),color:"white"};a.unshift(r.a.createElement("div",{id:"cell",className:"altitude-st-cell",key:"cell-stg-alt-row-".concat(o),style:s},"".concat(100*(o+1))));var i=(c[o].deg+180)%360,u=c[o].spd,m=Math.round(1.852*u);n.unshift(r.a.createElement("div",{id:"cell",className:"cell-small",key:"cell-".concat(o,"-st")},r.a.createElement("div",{className:"small-left"},i),r.a.createElement("div",{className:"small-right"},m)))}return n.unshift(r.a.createElement("div",{id:"cell",className:"cell-small",key:"cell-st-top"},r.a.createElement("div",{className:"small-left"},"Ang"),r.a.createElement("div",{className:"small-right"},"km/h"))),a.unshift(r.a.createElement("div",{id:"cell",className:"altitude-st-cell",key:"cell-stg-alt-row"},"Alt")),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"st-table"},a),r.a.createElement("div",{className:"st-table"},n))},ee=function(e){for(var t=Math.max.apply(Math,Object(V.a)(e.windInfoList.map((function(e){return e.winds.length})))),a=e.windInfoList.length,n=Math.min(360/a,40),c=[],o=0;o<t;o++)c.unshift(r.a.createElement("div",{id:"cell",className:"altitude-cell",key:"cell-alt-row-".concat(o)},"".concat(100*(o+1))));c.unshift(r.a.createElement("div",{id:"cell",className:"altitude-cell",key:"cell-alt-row"},"Alt(m)"));for(var l=[],s=0;s<a;s++){for(var i=e.windInfoList[s],u=i.winds,m=[],d=0;d<t;d++)if(d<u.length){var f=u[d].deg,h=(f+(e.isTo?180:0))%360,p=u[d].spd,E=Math.min(15,p),v=e.isKt?p:Math.round(1.852*p),g=(.05*(15-E)+.9*E)/15,b={backgroundColor:"hsla(".concat(f,",80%,50%, ").concat(g,")")};m.unshift(r.a.createElement("div",{id:"cell",style:b,key:"cell-".concat(d,"-").concat(s)},r.a.createElement("div",{className:"small-left"},h),r.a.createElement("div",{className:"small-right"},v)))}else m.unshift(r.a.createElement("div",{id:"cell",key:"cell-".concat(d,"-").concat(s)},"x"));var T={color:"white",backgroundColor:"hsla("+Math.ceil(n*(a-s-1))+", 80%, 50%, 0.8)"};m.unshift(r.a.createElement("div",{id:"cell",style:T,key:"cell-time-".concat(s)},q(i.hours,i.minutes))),l.push(r.a.createElement("div",{className:"num-table-col",key:"col-".concat(s)},m))}return r.a.createElement("div",{id:"display-flex",className:"margin-top-10px"},r.a.createElement("div",{className:"altidute-col",key:"alt-col"},c),r.a.createElement("div",{id:"holizontal-scroll",key:"data-cols"},l))},te=a(105),ae=a(106),ne=a(102),re=a(103),ce=function(e){var t={color:e.isTo?"#67c5ff":"#ff6e7a",border:e.isTo?"solid 2px #67c5ff":"solid 2px #ff6e7a"},a={fill:e.isTo?"#67c5ff":"#ff6e7a"};return r.a.createElement("button",{type:"button",onClick:e.onClick,className:e.className||"toggle-to-from",style:t},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24",viewBox:"0 0 24 24",width:"24",className:"svg-tofrom",style:a},r.a.createElement("g",null,r.a.createElement("rect",{fill:"none",height:"24",width:"24"})),r.a.createElement("g",null,r.a.createElement("g",null),r.a.createElement("g",null,r.a.createElement("path",{d:"M22,8l-4-4v3H3v2h15v3L22,8z"}),r.a.createElement("path",{d:"M2,16l4,4v-3h15v-2H6v-3L2,16z"})))),e.isTo?"\u3000To":" From")},oe=function(e){var t={color:e.isKt?"#67c5ff":"#ff6e7a",border:e.isKt?"solid 2px #67c5ff":"solid 2px #ff6e7a"},a={fill:e.isKt?"#67c5ff":"#ff6e7a"};return r.a.createElement("button",{type:"button",onClick:e.onClick,className:"toggle-table",style:t},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",height:"24",viewBox:"0 0 24 24",width:"24",className:"svg-tofrom",style:a},r.a.createElement("g",null,r.a.createElement("rect",{fill:"none",height:"24",width:"24"})),r.a.createElement("g",null,r.a.createElement("g",null),r.a.createElement("g",null,r.a.createElement("path",{d:"M22,8l-4-4v3H3v2h15v3L22,8z"}),r.a.createElement("path",{d:"M2,16l4,4v-3h15v-2H6v-3L2,16z"})))),e.isKt?"\u3000kt":" km/h")},le=function(e){Object(H.a)(n,e);var t=Object(B.a)(n);function n(){return Object(K.a)(this,n),t.apply(this,arguments)}return Object(G.a)(n,[{key:"componentDidMount",value:function(){this.props.token&&0===this.props.dateInfoList.length&&this.props.handleOnLoadDates()}},{key:"render",value:function(){var e=this,t=this.props.glaphIsTo?"hsl_to":"hsl_from";return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{dateInfoList:this.props.dateInfoList,onChange:this.props.handleOnChangeValue}),function(){if(e.props.selected){var n=e.props.selected.windInfoList[e.props.selectedTimeIndex];return r.a.createElement(te.a,{defaultActiveKey:"glaph",id:"uncontrolled-tab-example",className:"nav-justified"},r.a.createElement(ae.a,{eventKey:"glaph",title:"Dst Glaph",tabClassName:"my-tab"},r.a.createElement(ne.a,{className:"px-0",fluid:!0},r.a.createElement(L.a,null,r.a.createElement(_.a,{xs:12,sm:8,className:"px-0"},r.a.createElement(Q,{windInfoList:e.props.selected.windInfoList,scaleRatio:e.props.scale,isTo:e.props.isTo}),r.a.createElement(re.a,{vertical:!0,className:"myButtonClass"},r.a.createElement(A.a,{variant:"info",className:"rounded-circle pull-right center-block my-button",size:"sm",onClick:e.props.handleClickEnlargeButton},"\uff0b"),r.a.createElement(A.a,{variant:"info",className:"rounded-circle pull-right center-block my-button ",size:"sm",onClick:e.props.handleClickShrinkButton},"\u2212")),r.a.createElement(ce,{isTo:e.props.isTo,onClick:e.props.handleClickToggleIsToButton})),r.a.createElement(Y,{windInfoList:e.props.selected.windInfoList,onClickAt:e.props.handleOnSelectToggleButton})))),r.a.createElement(ae.a,{eventKey:"st-table",title:"Spd Glaph",tabClassName:"my-tab"},r.a.createElement(ne.a,{className:"px-0",fluid:!0},r.a.createElement(L.a,null,r.a.createElement(_.a,{xs:12},r.a.createElement(X,{windInfoList:e.props.selected.windInfoList,selectedTimeIndex:e.props.selectedTimeIndex,onClick:e.props.handleOnChangeTimeIndex}))),r.a.createElement(L.a,null,r.a.createElement(_.a,{xs:12,sm:8,className:"px-0",id:"display-flex"},r.a.createElement(Z,{num:n.winds.length,windInfo:n}),r.a.createElement(J,{windInfo:n}))))),r.a.createElement(ae.a,{eventKey:"table",title:"Table",tabClassName:"my-tab"},r.a.createElement("div",{className:"table-button-container"},r.a.createElement(ce,{isTo:e.props.glaphIsTo,onClick:e.props.handleClickToggleGlaphIsToButton,className:"toggle-table"}),r.a.createElement(oe,{isKt:e.props.isKt,onClick:e.props.handleClickToggleIsKtButton})),r.a.createElement(ee,{windInfoList:e.props.selected.windInfoList,isTo:e.props.glaphIsTo,isKt:e.props.isKt}),r.a.createElement("div",{id:"centering"},r.a.createElement("img",{src:a(91)("./".concat(t,".png")),className:"hsl-image",alt:"hsl-circle"}))))}}())}}]),n}(r.a.Component),se=Object(l.c)((function(e){return{token:e.state.token,fetchingDates:e.state.fetchingDates,fetchingPibalData:e.state.fetchingPibalData,scale:e.state.scale,selected:e.state.selected,dateInfoList:e.state.dateInfoList,isTo:e.state.isTo,glaphIsTo:e.state.glpahIsTo,isKt:e.state.isKt,selectedTimeIndex:e.state.selectedTimeIndex}}),(function(e){return{handleClickEnlargeButton:function(){e(b())},handleClickShrinkButton:function(){e(T())},handleOnChangeValue:function(t){e(x(t))},handleOnSelectToggleButton:function(t){e(k(t))},handleOnLoadDates:function(){e(p())},handleClickToggleIsToButton:function(){e(O())},handleClickToggleGlaphIsToButton:function(){e(w())},handleClickToggleIsKtButton:function(){e(y())},handleOnChangeTimeIndex:function(t){e(N(t))}}}))(le);function ie(e){return e.getFullYear().toString()+"/"+("00"+e.getMonth()).slice(-2)+"/"+("00"+e.getDate()).slice(-2)}var ue=function(){return r.a.createElement(i.a,{history:F},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/login",component:P}),r.a.createElement(s.b,{path:"/upload",component:D}),r.a.createElement(S,null,r.a.createElement(s.b,{exact:!0,path:"/",component:se}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(23),de=a(71),fe=a(66),he={token:"",creatingToken:!1,fetchingDates:!1,fetchingPibalData:!1,hasError:!1,scale:1,selected:void 0,dateInfoList:[],isTo:!0,glpahIsTo:!0,isKt:!1,selectedTimeIndex:0},pe=Object(fe.reducerWithInitialState)(he).case(p,(function(e){return Object(U.a)({},e,{fetchingDates:!0})})).case(E,(function(e){return Object(U.a)({},e,{fetchingDates:!1})})).case(g,(function(e){return Object(U.a)({},e,{fetchingPibalData:!0})})).case(b,(function(e){var t=Math.min(e.scale+.1,3);return Object(U.a)({},e,{scale:t})})).case(T,(function(e){var t=Math.max(e.scale-.1,.5);return Object(U.a)({},e,{scale:t})})).case(v,(function(e,t){return Object(U.a)({},e,{dateInfoList:t})})).case(I,(function(e,t){var a=t.windInfoList.length-1;return Object(U.a)({},e,{selected:t,scale:1,selectedTimeIndex:a})})).case(k,(function(e,t){var a=e.selected;if(a){var n=!a.windInfoList[t].visible,r=a.windInfoList.map((function(e,a){return a===t?Object(U.a)({},e,{visible:n}):e})),c=Object(U.a)({},a,{windInfoList:r});return Object(U.a)({},e,{selected:c})}return e})).case(d,(function(e,t){return Object(U.a)({},e,{token:t})})).case(f,(function(e){return Object(U.a)({},e,{token:""})})).case(O,(function(e){var t=!e.isTo;return Object(U.a)({},e,{isTo:t})})).case(w,(function(e){var t=!e.glpahIsTo;return Object(U.a)({},e,{glpahIsTo:t})})).case(y,(function(e){var t=!e.isKt;return Object(U.a)({},e,{isKt:t})})).case(N,(function(e,t){return Object(U.a)({},e,{selectedTimeIndex:t})})).build(),Ee=a(10),ve=a.n(Ee),ge=a(40),be=a(9);function Te(e,t){var a=JSON.stringify({postUser:e,postPass:t});return fetch("https://oval-silicon-280513.an.r.appspot.com/api/v1/authenticate",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"content-type":"application/json; charset=UTF-8"},body:a}).then((function(e){return e.json()})).then((function(e){return e.success?(localStorage.setItem("auth_token",e.token),{token:e.token}):{error:"such user is not exist"}})).catch((function(e){return{error:e}}))}function ke(e){return fetch("https://oval-silicon-280513.an.r.appspot.com/api/v1/dates",{headers:{"x-access-token":e,mode:"cors",cache:"no-cache"}}).then((function(e){return e.json()})).then((function(e){var t=e.data.map((function(e,t){return{id:t,date:Ie(e.date),timePeriod:e.timing}}));return t.sort((function(e,t){return t.date.getTime()-e.date.getTime()})),{dateList:t}})).catch((function(e){return{error:e}}))}function xe(e,t,a){var n=function(e){var t=e.getFullYear().toString(),a=("00"+e.getMonth()).slice(-2),n=("00"+e.getDate()).slice(-2);return t+a+n}(t);return fetch("https://oval-silicon-280513.an.r.appspot.com/api/v1/".concat(n,"/").concat(a),{headers:{"x-access-token":e,mode:"cors",cache:"no-cache"}}).then((function(e){return e.json()})).then((function(e){if(e.data.length){var t=[];return e.data[0].infos.forEach((function(e){var a=e.hours,n=e.minutes,r=e.winds.map((function(e){return{alt:e.height,deg:e.degree,spd:e.speed}}));t.push({hours:a,minutes:n,winds:r,visible:!0})})),{windInfoList:t}}return{error:"no such data"}})).catch((function(e){return{error:e}}))}function Ie(e){var t=Number(e.slice(0,4)),a=Number(e.slice(4,6)),n=Number(e.slice(6));return new Date(t,a,n)}var Oe=function(e){return e.state.token},we=function(e){return e.state.dateInfoList},ye=ve.a.mark(Le),Ne=ve.a.mark(_e),Se=ve.a.mark(Me),je=ve.a.mark(Ae),Ce=ve.a.mark(Pe);function Le(){var e,t,a,n,r,c;return ve.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,Object(be.e)("START_CREATE_TOKEN");case 3:return e=o.sent,t=e.payload.username,a=e.payload.password,o.next=8,Object(be.a)(Te,t,a);case 8:if(n=o.sent,r=n.token,c=n.error,r||!c){o.next=18;break}return o.next=14,Object(be.c)({type:"FINISH_CREATE_TOKEN"});case 14:return localStorage.clear(),o.next=17,Object(be.c)({type:"REQUEST_LOGOUT"});case 17:return o.abrupt("continue",0);case 18:if(!r){o.next=23;break}return o.next=21,Object(be.c)({type:"REQUEST_LOGIN",payload:r});case 21:return o.next=23,Object(be.c)({type:"FINISH_CREATE_TOKEN"});case 23:o.next=0;break;case 25:case"end":return o.stop()}}),ye)}function _e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(be.e)("FINISH_CREATE_TOKEN");case 3:return e.next=5,Object(be.c)(Object(ge.push)("/"));case 5:e.next=0;break;case 7:case"end":return e.stop()}}),Ne)}function Me(){var e,t,a,n;return ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(be.d)(Oe);case 2:return e=r.sent,r.next=5,Object(be.a)(ke,e);case 5:if(t=r.sent,a=t.dateList,n=t.error,a||!n){r.next=16;break}return r.next=11,Object(be.c)({type:"FINISH_FETCH_DATES"});case 11:return localStorage.clear(),r.next=14,Object(be.c)({type:"REQUEST_LOGOUT"});case 14:return r.next=16,Object(be.c)(Object(ge.push)("/"));case 16:if(!a){r.next=23;break}return r.next=19,Object(be.c)({type:"SET_DATES",payload:a});case 19:return r.next=21,Object(be.c)({type:"FINISH_FETCH_DATES"});case 21:return r.next=23,Object(be.c)({type:"SELECT_FLIGHT",payload:0});case 23:case"end":return r.stop()}}),Se)}function Ae(){var e,t,a,n,r,c,o,l,s;return ve.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,Object(be.e)("SELECT_FLIGHT");case 3:return e=i.sent,t=e.payload,i.next=7,Object(be.d)(Oe);case 7:return a=i.sent,i.next=10,Object(be.d)(we);case 10:return n=i.sent,r=n[t],i.next=14,Object(be.a)(xe,a,r.date,r.timePeriod);case 14:if(c=i.sent,o=c.windInfoList,l=c.error,o||!l){i.next=23;break}return localStorage.clear(),i.next=21,Object(be.c)({type:"REQUEST_LOGOUT"});case 21:return i.next=23,Object(be.c)(Object(ge.push)("/"));case 23:if(!o){i.next=27;break}return s={id:t,date:r.date,timePeriod:r.timePeriod,windInfoList:o},i.next=27,Object(be.c)({type:"SET_WIND",payload:s});case 27:i.next=0;break;case 29:case"end":return i.stop()}}),je)}function Pe(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(be.b)(Le);case 2:return e.next=4,Object(be.b)(_e);case 4:return e.next=6,Object(be.f)("START_FETCH_DATES",Me);case 6:return e.next=8,Object(be.b)(Ae);case 8:case"end":return e.stop()}}),Ce)}a(96);var De=a(54);var Re=function(e){var t=Object(de.a)(),a=[t,Object(De.a)(F)],n=Object(me.e)(Object(me.c)({state:pe,router:Object(i.b)(F)}),e,me.a.apply(void 0,a));return t.run(Pe),n}();o.a.render(r.a.createElement(l.a,{store:Re},r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[75,1,2]]]);
//# sourceMappingURL=main.dc41bd4f.chunk.js.map